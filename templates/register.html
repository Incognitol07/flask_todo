{% extends "layout.html" %}
{% block body %}
<h2>Register</h2>
<!-- Flash messages for success/error notifications -->
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
    <div>
        {% for category, message in messages %}
            <div class="flash-message {{ category }}">{{ message }}</div>
        {% endfor %}
    </div>
{% endif %}
{% endwith %}
<form method="POST" action="{{ url_for('register') }}">
    <div>
        <input type="text" name="username" id="username" placeholder="Username" required autofocus>
    </div>
    <div>
        <input 
            type="password" 
            name="password" 
            id="password" 
            placeholder="Password" 
            required 
            pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}" 
            title="Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character."
        >
    </div>
    <div>
        <input type="submit" value="Register">
    </div>
</form>
<a href="{{ url_for('login') }}">Already have an account? Login here</a>
{% endblock %}
